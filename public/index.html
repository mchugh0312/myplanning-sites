<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loading...</title>
</head>
<body>
<div style="display:flex;align-items:center;justify-content:center;min-height:100vh;font-family:sans-serif">
<div style="text-align:center">
<div style="border:4px solid #f3f3f3;border-top:4px solid #333;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:0 auto 1rem"></div>
<p>Loading wedding website...</p>
</div>
</div>
<style>@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}</style>
<script>
const API='https://wedding-recommender.onrender.com';
const slug=window.location.pathname.split('/').filter(p=>p).pop()||'sarah-and-john';
async function load(){
try{
const r=await fetch(`${API}/wedding-site/${slug}`);
if(!r.ok){
  console.error('API response not ok:', r.status, r.statusText);
  throw new Error('Not found');
}
const d=await r.json();
console.log('Wedding data loaded:', d);
const template=(d.template||'classic').toLowerCase();
window.location.href=`/templates/${template}.html?slug=${slug}`;
}catch(e){
console.error('Error loading wedding:', e);
document.body.innerHTML='<div style="text-align:center;padding:2rem"><h1 style="color:#e74c3c">Wedding Not Found</h1><p>Could not load: '+slug+'</p><p style="margin-top:1rem;color:#666;font-size:0.9rem">Error: '+e.message+'</p></div>';
}
}
load();
</script>
</body>
</html>